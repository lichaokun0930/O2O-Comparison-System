# O2O æ¯”ä»·å·¥å…· - äº‘éƒ¨ç½²æŒ‡å—

## ğŸ¯ é‡è¦è¯´æ˜ï¼šç”¨æˆ·ç«¯éœ€æ±‚

### **æœ€ç»ˆç”¨æˆ·éœ€è¦ä»€ä¹ˆï¼Ÿ**
âœ… **åªéœ€è¦æµè§ˆå™¨ï¼** æ— éœ€å®‰è£…ä»»ä½•è½¯ä»¶ã€Pythonã€ä¾èµ–åº“ç­‰ã€‚

- âœ… Chrome / Edge / Safari / Firefox ç­‰ä»»æ„æµè§ˆå™¨
- âœ… èƒ½ä¸Šç½‘å³å¯
- âœ… æ‰‹æœºã€ç”µè„‘ã€å¹³æ¿éƒ½æ”¯æŒ

### **ç®¡ç†å‘˜éœ€è¦ä»€ä¹ˆï¼Ÿ**
- æœ¬åœ°ç”µè„‘ï¼ˆå·²é…ç½®å¥½ Python ç¯å¢ƒï¼‰
- æˆ–äº‘æœåŠ¡å™¨ï¼ˆUbuntu/CentOS ç³»ç»Ÿï¼‰
- æœ¬æŒ‡å—æ•™æ‚¨å¦‚ä½•éƒ¨ç½²ï¼Œè®©ç”¨æˆ·é€šè¿‡æµè§ˆå™¨è®¿é—®

**è¯¦ç»†ç”¨æˆ·ä½¿ç”¨è¯´æ˜è§ï¼š[æœ€ç»ˆç”¨æˆ·ä½¿ç”¨æŒ‡å—.md](./æœ€ç»ˆç”¨æˆ·ä½¿ç”¨æŒ‡å—.md)**

---

## ğŸ“‹ éƒ¨ç½²æ–¹å¼å¯¹æ¯”

### æ–¹æ¡ˆ1: å†…ç½‘ç©¿é€ï¼ˆæœ€ç®€å•ï¼Œé€‚åˆæµ‹è¯•ï¼‰
**ä¼˜ç‚¹**: 5åˆ†é’Ÿå®Œæˆï¼Œæ— éœ€æœåŠ¡å™¨
**ç¼ºç‚¹**: ä¾èµ–ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œé€Ÿåº¦è¾ƒæ…¢
**æˆæœ¬**: å…è´¹

#### ä½¿ç”¨æ­¥éª¤ï¼š

1. **ä¸‹è½½ ngrok**ï¼ˆå…è´¹å†…ç½‘ç©¿é€å·¥å…·ï¼‰
   - è®¿é—® https://ngrok.com/ æ³¨å†Œè´¦å·
   - ä¸‹è½½ Windows ç‰ˆæœ¬
   - æˆ–ä½¿ç”¨å›½å†…æ›¿ä»£å“ï¼šèŠ±ç”Ÿå£³ã€NATAPP

2. **å¯åŠ¨æœ¬åœ° Streamlit**
   ```powershell
   .\start_app.ps1
   ```

3. **å¯åŠ¨ ngrok**
   ```powershell
   ngrok http 8555
   ```

4. **è·å–å…¬ç½‘åœ°å€**
   - ngrok ä¼šæ˜¾ç¤ºç±»ä¼¼ `https://abc123.ngrok.io` çš„åœ°å€
   - åˆ†äº«è¿™ä¸ªåœ°å€ç»™ä»»ä½•äººå³å¯è®¿é—®

**ç¤ºä¾‹å‘½ä»¤**ï¼š
```powershell
# ç»ˆç«¯1ï¼šå¯åŠ¨åº”ç”¨
$env:CUDA_VISIBLE_DEVICES=''; $env:USE_TORCH_SIM='0'
& "D:\åŠå…¬\Python\python.exe" -m streamlit run comparison_app.py --server.port 8555

# ç»ˆç«¯2ï¼šå¯åŠ¨å†…ç½‘ç©¿é€
ngrok http 8555
```

---

### æ–¹æ¡ˆ2: äº‘æœåŠ¡å™¨éƒ¨ç½²ï¼ˆç¨³å®šï¼Œé€‚åˆé•¿æœŸä½¿ç”¨ï¼‰
**ä¼˜ç‚¹**: ç¨³å®šã€å¿«é€Ÿã€ä¸“ä¸š
**ç¼ºç‚¹**: éœ€è¦ä¸€å®šæŠ€æœ¯èƒ½åŠ›
**æˆæœ¬**: çº¦ Â¥50-100/æœˆï¼ˆè…¾è®¯äº‘ã€é˜¿é‡Œäº‘å­¦ç”Ÿæœºæ›´ä¾¿å®œï¼‰

#### éƒ¨ç½²æ­¥éª¤ï¼š

1. **è´­ä¹°äº‘æœåŠ¡å™¨**ï¼ˆæ¨èé…ç½®ï¼‰
   - CPU: 2æ ¸
   - å†…å­˜: 4GB
   - ç³»ç»Ÿ: Ubuntu 20.04
   - å‚å•†: é˜¿é‡Œäº‘/è…¾è®¯äº‘/åä¸ºäº‘

2. **ä¸Šä¼ ä»£ç åˆ°æœåŠ¡å™¨**
   ```bash
   # æœ¬åœ°æ‰“åŒ…
   zip -r o2o_tool.zip * -x "*.pyc" -x "__pycache__/*" -x ".venv/*"
   
   # ä¸Šä¼ åˆ°æœåŠ¡å™¨
   scp o2o_tool.zip root@your_server_ip:/root/
   ```

3. **æœåŠ¡å™¨ç¯å¢ƒé…ç½®**
   ```bash
   # å®‰è£… Python 3.11+
   sudo apt update
   sudo apt install python3.11 python3-pip -y
   
   # å®‰è£…ä¾èµ–
   pip3 install streamlit pandas torch sentence-transformers openpyxl
   
   # è§£å‹ä»£ç 
   unzip o2o_tool.zip -d /root/o2o_tool
   cd /root/o2o_tool
   ```

4. **å¯åŠ¨åº”ç”¨ï¼ˆåå°è¿è¡Œï¼‰**
   ```bash
   nohup python3 -m streamlit run comparison_app.py \
     --server.port 8555 \
     --server.address 0.0.0.0 \
     > streamlit.log 2>&1 &
   ```

5. **é…ç½®é˜²ç«å¢™**
   ```bash
   # å¼€æ”¾ 8555 ç«¯å£
   sudo ufw allow 8555
   ```

6. **è®¿é—®åœ°å€**
   ```
   http://your_server_ip:8555
   ```

---

### æ–¹æ¡ˆ3: Docker å®¹å™¨åŒ–ï¼ˆæœ€ä¸“ä¸šï¼‰
**ä¼˜ç‚¹**: ç¯å¢ƒéš”ç¦»ï¼Œä¸€é”®éƒ¨ç½²
**ç¼ºç‚¹**: éœ€è¦å­¦ä¹  Docker
**æˆæœ¬**: åŒäº‘æœåŠ¡å™¨

#### Dockerfileï¼ˆå·²ä¸ºæ‚¨åˆ›å»ºï¼‰
è§ `Dockerfile` æ–‡ä»¶

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èï¼šå†…ç½‘ç©¿é€ï¼‰

### Windows ç”¨æˆ·ï¼ˆ5åˆ†é’Ÿæå®šï¼‰

1. **ä¸‹è½½ NATAPP**ï¼ˆå›½å†…å…è´¹å·¥å…·ï¼‰
   ```powershell
   # è®¿é—® https://natapp.cn/ ä¸‹è½½
   # æˆ–ä½¿ç”¨ PowerShell ä¸‹è½½
   Invoke-WebRequest -Uri "https://natapp.cn/download/natapp_windows_amd64.zip" -OutFile "natapp.zip"
   Expand-Archive natapp.zip -DestinationPath .
   ```

2. **å¯åŠ¨æœ¬åœ°æœåŠ¡**
   ```powershell
   .\start_app.ps1
   ```

3. **å¯åŠ¨å†…ç½‘ç©¿é€**
   ```powershell
   # è·å–å…è´¹éš§é“ tokenï¼šhttps://natapp.cn/
   .\natapp.exe -authtoken=ä½ çš„token
   ```

4. **åˆ†äº«é“¾æ¥**
   - NATAPP ä¼šæ˜¾ç¤ºï¼š`http://abc123.natapp1.cc`
   - åˆ†äº«ç»™åŒäº‹å³å¯ä½¿ç”¨ï¼

---

## ğŸ“± ä½¿ç”¨è¯´æ˜ï¼ˆç»™æœ€ç»ˆç”¨æˆ·ï¼‰

### è®¿é—®å·¥å…·
1. æ‰“å¼€æµè§ˆå™¨ï¼ˆChromeã€Edgeã€Safari å‡å¯ï¼‰
2. è¾“å…¥åœ°å€ï¼š`http://your_domain:8555`
3. æ— éœ€å®‰è£…ä»»ä½•è½¯ä»¶

### ä¸Šä¼ æ–‡ä»¶
1. ç‚¹å‡»"é€‰æ‹©æ–‡ä»¶"
2. ä¸Šä¼ æœ¬åº—å’Œç«å¯¹çš„ Excel æ–‡ä»¶
3. é€‰æ‹© AI æ¨¡å‹ï¼ˆæ¨èï¼šBGE-M3ï¼‰
4. ç‚¹å‡»"å¼€å§‹åˆ†æ"
5. ç­‰å¾…è¿›åº¦æ¡å®Œæˆï¼ˆçº¦ 2-5 åˆ†é’Ÿï¼‰
6. ä¸‹è½½ç”Ÿæˆçš„æ¯”ä»·æŠ¥å‘Š

---

## ğŸ”’ å®‰å…¨å»ºè®®

1. **æ·»åŠ è®¿é—®å¯†ç **ï¼ˆå¯é€‰ï¼‰
   - ä¿®æ”¹ `comparison_app.py` æ·»åŠ ç™»å½•éªŒè¯
   - è§æ–‡ä»¶å¼€å¤´çš„èº«ä»½éªŒè¯ä»£ç 

2. **é™åˆ¶IPè®¿é—®**
   - äº‘æœåŠ¡å™¨å®‰å…¨ç»„åªå¼€æ”¾å…¬å¸ IP
   - nginx åå‘ä»£ç† + ç™½åå•

3. **HTTPS åŠ å¯†**
   ```bash
   # ä½¿ç”¨ Let's Encrypt å…è´¹è¯ä¹¦
   sudo certbot --nginx -d yourdomain.com
   ```

---

## â“ å¸¸è§é—®é¢˜

**Q: å†…ç½‘ç©¿é€é€Ÿåº¦æ…¢æ€ä¹ˆåŠï¼Ÿ**
A: å‡çº§ä»˜è´¹ç‰ˆæˆ–ä½¿ç”¨äº‘æœåŠ¡å™¨

**Q: å¤šäººåŒæ—¶ä½¿ç”¨ä¼šå†²çªå—ï¼Ÿ**
A: Streamlit æ”¯æŒå¤šç”¨æˆ·ï¼Œä½†å»ºè®®ä¸è¶…è¿‡ 10 äººåŒæ—¶ä½¿ç”¨

**Q: å¦‚ä½•è‡ªåŠ¨å¯åŠ¨ï¼Ÿ**
A: 
```bash
# Linux åˆ›å»º systemd æœåŠ¡
sudo nano /etc/systemd/system/o2o-tool.service

[Unit]
Description=O2O Comparison Tool
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/root/o2o_tool
ExecStart=/usr/bin/python3 -m streamlit run comparison_app.py --server.port 8555
Restart=always

[Install]
WantedBy=multi-user.target

# å¯åŠ¨æœåŠ¡
sudo systemctl enable o2o-tool
sudo systemctl start o2o-tool
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- å†…ç½‘ç©¿é€æ¨èï¼šNATAPP (https://natapp.cn/)ã€èŠ±ç”Ÿå£³
- äº‘æœåŠ¡å™¨æ¨èï¼šé˜¿é‡Œäº‘ã€è…¾è®¯äº‘
- åŸŸåè´­ä¹°ï¼šé˜¿é‡Œäº‘ä¸‡ç½‘ã€è…¾è®¯äº‘
